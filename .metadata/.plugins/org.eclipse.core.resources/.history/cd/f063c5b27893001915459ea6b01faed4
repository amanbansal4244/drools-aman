package com.fil.contribution.utility;

import java.io.UnsupportedEncodingException;

import com.fil.contribution.model.FileValidationModel;
import com.fil.contribution.validation.SpecialCharValidation;

public class FileValidationUtilHelper {


	public FileValidationModel executeFileValidation(String[] fileRecord, FileValidationModel fileValidationModel) {
		try {
			fileValidationModel = fileLevelValidation(fileRecord, fileValidationModel);
		} catch (UnsupportedEncodingException e) {
			e.printStackTrace();
		}
		return fileValidationModel;

	}

	public FileValidationModel fileLevelValidation(String[] fileRecord, FileValidationModel fileValidationModel) throws UnsupportedEncodingException {
		for (String cell : fileRecord) {
			if (!cell.isEmpty() && SpecialCharValidation.isSpecialCharacter(cell.getBytes())) {
				fileValidationModel.setFileContainSpecialChar(Boolean.TRUE);
				fileValidationModel.setSpecialCharacterCellContent(cell + " ,");
				fileValidationModel.setFileBlank(Boolean.FALSE);
			} else if (cell.length() != 0) {
				fileValidationModel.setFileBlank(Boolean.FALSE);
			}
		}
		return fileValidationModel;

	}
}
